<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">第八章：树 | 学习大使</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://richardgong1987-learn.github.io/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter08"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="第八章：树 | 学习大使"><meta data-react-helmet="true" name="description" content="面试题47：二叉树剪枝"><meta data-react-helmet="true" property="og:description" content="面试题47：二叉树剪枝"><link data-react-helmet="true" rel="shortcut icon" href="/richardgong1987-learn/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://richardgong1987-learn.github.io/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter08"><link data-react-helmet="true" rel="alternate" href="https://richardgong1987-learn.github.io/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter08" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://richardgong1987-learn.github.io/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter08" hreflang="x-default"><link rel="stylesheet" href="/richardgong1987-learn/assets/css/styles.87861f0e.css">
<link rel="preload" href="/richardgong1987-learn/assets/js/runtime~main.fd9d2b8e.js" as="script">
<link rel="preload" href="/richardgong1987-learn/assets/js/main.279dec3d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/richardgong1987-learn/"><img src="/richardgong1987-learn/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/richardgong1987-learn/img/logo.svg" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">学习大使</b></a><a class="navbar__item navbar__link navbar__link--active" href="/richardgong1987-learn/docs/a-java/intro">Java架构师</a><a class="navbar__item navbar__link navbar__link--active" href="/richardgong1987-learn/docs/b-rust/intro">Rust架构师</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link navbar__link--active" href="/richardgong1987-learn/docs/c-computer/intro">计算机科学</a><a href="https://github.com/richardgong1987-learn/richardgong1987-learn.git" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Java架构师</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/richardgong1987-learn/docs/intro">学习大使</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">rust架构师</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">计算机机科学</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/richardgong1987-learn/docs/c-computer/intro">计算机机科学内容目录</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">AlgorithmsDataStructures</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/intro">算法与数据结构内容目录</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">BinaryTree</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">OfferOrientedAlgorithms-main</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter01">第一章：整数</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter02">第二章：数组</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter03">第三章：字符串</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter04">第四章：链表</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter05">第五章：哈希表</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter06">第六章：栈</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter07">第七章：队列</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter08">第八章：树</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter09">第九章：堆</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter10">第十章：前缀树</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter11">第十一章：二分查找</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter12">第十二章：排序</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter13">第十三章：回溯法</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter14">第十四章：动态规划</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter15">第十五章：图</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/README">剑指Offer</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">algorithm_cheat_sheet</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">labuladong算法小抄代码</a></li></ul></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>第八章：树</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="面试题47：二叉树剪枝"></a>面试题47：二叉树剪枝<a class="hash-link" href="#面试题47：二叉树剪枝" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="题目"></a>题目<a class="hash-link" href="#题目" title="Direct link to heading">#</a></h3><p>一个二叉树的所有结点的值要么是0要么是1，请剪除该二叉树中所有结点的值全都是0 的子树。例如，在剪除图8.2（a）中二叉树中所有结点值都为0的子树之后的结果如图8.2（b）所示。</p><p><img alt="图8.2" src="/richardgong1987-learn/assets/images/0802-a27ebf387ba68cfb1ab7c5a269ad0365.png"></p><p>图8.2：剪除所有结点值都为0的子树。（a）一个结点值要么是0要么是1的二叉树。（b）剪除所有结点值都为0的子树的结果。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="参考代码"></a>参考代码<a class="hash-link" href="#参考代码" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">public TreeNode pruneTree(TreeNode root) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (root == null) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return root;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    root.left = pruneTree(root.left);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    root.right = pruneTree(root.right);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (root.left == null &amp;&amp; root.right == null &amp;&amp; root.val == 0) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return null;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return root;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="面试题48：序列化和反序列化二叉树"></a>面试题48：序列化和反序列化二叉树<a class="hash-link" href="#面试题48：序列化和反序列化二叉树" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="题目-1"></a>题目<a class="hash-link" href="#题目-1" title="Direct link to heading">#</a></h3><p>请设计一个算法能将二叉树序列化成一个字符串并能将该字符串反序列化出原来二叉树的算法。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="参考代码-1"></a>参考代码<a class="hash-link" href="#参考代码-1" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">public String serialize(TreeNode root) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (root == null) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &quot;#&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    String leftStr = serialize(root.left);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    String rightStr = serialize(root.right);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return String.valueOf(root.val) + &quot;,&quot; + leftStr + &quot;,&quot; + rightStr;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">public TreeNode deserialize(String data) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    String[] nodeStrs = data.split(&quot;,&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    int[] i = {0};</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return dfs(nodeStrs, i);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">private TreeNode dfs(String[] strs, int[] i) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    String str = strs[i[0]];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    i[0]++;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (str.equals(&quot;#&quot;)) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return null;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    TreeNode node = new TreeNode(Integer.valueOf(str));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    node.left = dfs(strs, i);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    node.right = dfs(strs, i);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return node;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="面试题49：从根结点到叶结点的路径数字之和"></a>面试题49：从根结点到叶结点的路径数字之和<a class="hash-link" href="#面试题49：从根结点到叶结点的路径数字之和" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="题目-2"></a>题目<a class="hash-link" href="#题目-2" title="Direct link to heading">#</a></h3><p>在一个二叉树里所有结点都在0-9的范围之类，从根结点到叶结点的路径表示一个数字。求二叉树里所有路径表示的数字之和。例如在图8.4中的二叉树有三条从根结点到叶结点的路径，它们分别表示数字395、391和302，这三个数字之和是1088。</p><p><img alt="图8.4" src="data:image/png;base64,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"></p><p>图8.4：一个从根结点到叶结点的路径分别表示数字395、391和302的二叉树。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="参考代码-2"></a>参考代码<a class="hash-link" href="#参考代码-2" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">public int sumNumbers(TreeNode root) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return dfs(root, 0);      </span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">private int dfs(TreeNode root, int path) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (root == null) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    path = path * 10 + root.val;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (root.left == null &amp;&amp; root.right == null) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return path;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return dfs(root.left, path) + dfs(root.right, path);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="面试题50：向下的路径结点之和"></a>面试题50：向下的路径结点之和<a class="hash-link" href="#面试题50：向下的路径结点之和" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="题目-3"></a>题目<a class="hash-link" href="#题目-3" title="Direct link to heading">#</a></h3><p>给定一个二叉树和一个值sum，求二叉树里结点值之和等于sum的路径的数目。路径的定义为二叉树中沿着指向子结点的指针向下移动所经过的结点，但不一定从根结点开始，也不一定到叶结点结束。例如在图8.5中的二叉树里，有两个路径的结点值之和等于8，其中第一条路径从结点5开始经过结点2到达结点1，第二条路径从结点2开始到结点6。</p><p><img alt="图8.5" src="data:image/png;base64,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"></p><p>图8.5：二叉树中有两条路径上的结点值之和等于8，第一条路径从结点5开始经过结点2到达结点1，第二条路径从结点2开始到结点6。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="参考代码-3"></a>参考代码<a class="hash-link" href="#参考代码-3" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">public int pathSum(TreeNode root, int sum) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    map.put(0, 1);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return dfs(root, sum, map, 0);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">private int dfs(TreeNode root, int sum,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Map&lt;Integer, Integer&gt; map, int path) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (root == null) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    path += root.val;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    int count = map.getOrDefault(path - sum, 0);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    map.put(path, map.getOrDefault(path, 0) + 1);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    count += dfs(root.left, sum, map, path);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    count += dfs(root.right, sum, map, path);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    map.put(path, map.get(path) - 1);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return count;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="面试题51：结点之和最大的路径"></a>面试题51：结点之和最大的路径<a class="hash-link" href="#面试题51：结点之和最大的路径" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="题目-4"></a>题目<a class="hash-link" href="#题目-4" title="Direct link to heading">#</a></h3><p>在二叉树中定义路径为从沿着结点间的连接从任意一个结点开始到达任意一个结点所经过的所有结点。路径中至少包含一个结点，不一定经过二叉树的根结点，也不一定经过叶结点。给你非空的一个二叉树，请求出二叉树所有路径上结点值之和的最大值。例如在图8.6中的二叉树中，从结点15开始经过结点20到达结点7的路径是结点值之和为42，是结点值之和最大的路径。</p><p><img alt="图8.6" src="data:image/png;base64,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"></p><p>图8.6：在二叉树中，从结点15开始经过结点20到达结点7的路径是结点值之和为42，是结点值之和最大的路径。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="参考代码-4"></a>参考代码<a class="hash-link" href="#参考代码-4" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">public int maxPathSum(TreeNode root) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    int[] maxSum = {Integer.MIN_VALUE};</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    dfs(root, maxSum);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return maxSum[0];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">private int dfs(TreeNode root, int[] maxSum) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (root == null) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    int[] maxSumLeft = {Integer.MIN_VALUE};</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    int left = Math.max(0, dfs(root.left, maxSumLeft));</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    int[] maxSumRight = {Integer.MIN_VALUE};</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    int right = Math.max(0, dfs(root.right, maxSumRight));</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    maxSum[0] = Math.max(maxSumLeft[0], maxSumRight[0]);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    maxSum[0] = Math.max(maxSum[0], root.val + left + right);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return root.val + Math.max(left, right);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="面试题52：展平二叉搜索树"></a>面试题52：展平二叉搜索树<a class="hash-link" href="#面试题52：展平二叉搜索树" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="题目-5"></a>题目<a class="hash-link" href="#题目-5" title="Direct link to heading">#</a></h3><p>给你一个二叉搜索树，请调整结点的指针使得每个结点都没有左子结点看起来像一个链表，但新的树仍然是二叉搜索树。例如把图8.8（a）中的二叉搜索树按照这个规则展平之后的结果如图8.8（b）所示。</p><p><img alt="图8.8" src="/richardgong1987-learn/assets/images/0808-8ef714bfb35cdd5b69619fb8b900ada8.png"></p><p>图8.8：把二叉搜索树展平成链表。（a）一个有6个结点的二叉树。（b）展平成看起来是链表的二叉搜索树，每个结点都没有左子结点。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="参考代码-5"></a>参考代码<a class="hash-link" href="#参考代码-5" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">public TreeNode increasingBST(TreeNode root) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Stack&lt;TreeNode&gt; stack = new Stack&lt;&gt;();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    TreeNode cur = root;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    TreeNode prev = null;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    TreeNode first = null;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    while (cur != null || !stack.isEmpty()) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        while (cur != null) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            stack.push(cur);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            cur = cur.left;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        cur = stack.pop();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (prev != null) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            prev.right = cur;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            first = cur;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        prev = cur;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        cur.left = null;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        cur = cur.right;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return first;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="面试题53：二叉搜索树的下一个结点"></a>面试题53：二叉搜索树的下一个结点<a class="hash-link" href="#面试题53：二叉搜索树的下一个结点" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="题目-6"></a>题目<a class="hash-link" href="#题目-6" title="Direct link to heading">#</a></h3><p>给你一个二叉搜索时和它的一个结点p，请找出按中序遍历的顺序该结点p的下一个结点。假设二叉搜索树中结点的值都是唯一的。例如在图8.9的二叉搜索树中，结点8的下一个结点是结点9，结点11的下一个结点是null。</p><p><img alt="图8.9" src="data:image/png;base64,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"></p><p>图8.9：在二叉搜索树中，按照中序遍历的顺序结点8的下一个结点是结点9，结点11的下一个结点是null。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="参考代码-6"></a>参考代码<a class="hash-link" href="#参考代码-6" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="解法一"></a>解法一<a class="hash-link" href="#解法一" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">public TreeNode inorderSuccessor(TreeNode root, TreeNode p) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Stack&lt;TreeNode&gt; stack = new Stack&lt;&gt;();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    TreeNode cur = root;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean found = false;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    while (cur != null || !stack.isEmpty()) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        while (cur != null) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            stack.push(cur);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            cur = cur.left;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        cur = stack.pop();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (found) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            break;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else if (p == cur) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            found = true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        cur = cur.right;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return cur;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="解法二"></a>解法二<a class="hash-link" href="#解法二" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">public TreeNode inorderSuccessor(TreeNode root, TreeNode p) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    TreeNode cur = root;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    TreeNode result = null;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    while (cur != null) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (cur.val &gt; p.val) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            result = cur;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            cur = cur.left;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            cur = cur.right;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return result;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="面试题54：所有大于等于结点的值之和"></a>面试题54：所有大于等于结点的值之和<a class="hash-link" href="#面试题54：所有大于等于结点的值之和" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="题目-7"></a>题目<a class="hash-link" href="#题目-7" title="Direct link to heading">#</a></h3><p>给你一个二叉搜索树，请将它的每个结点的值替换成树中大于或者等于该结点值的所有结点值之和。假设二叉搜索树中结点的值唯一。例如，输入图8.10（a）中的二叉搜索树，由于有两个结点的值大于或者等于6（即结点6和结点7），因此值为6结点的值替换成13，其他结点的值的替换过程类似，所有结点的值替换之后的结果如图8.10（b）所示。</p><p><img alt="图8.10" src="/richardgong1987-learn/assets/images/0810-4c8888afab342efd26caae28ab73ce13.png"></p><p>图8.10：把二叉搜索树中每个结点的值替换成树中大于或者等于该结点值的所有结点值之和。（a）一个二叉搜索树。（b）替换之后的二叉树。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="参考代码-7"></a>参考代码<a class="hash-link" href="#参考代码-7" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">public TreeNode convertBST(TreeNode root) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Stack&lt;TreeNode&gt; stack = new Stack&lt;&gt;();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    TreeNode cur = root;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    int sum = 0;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    while (cur != null || !stack.isEmpty()) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        while (cur != null) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            stack.push(cur);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            cur = cur.right;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        cur = stack.pop();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        sum += cur.val;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        cur.val = sum;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        cur = cur.left;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return root;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="面试题55：二叉搜索树迭代器"></a>面试题55：二叉搜索树迭代器<a class="hash-link" href="#面试题55：二叉搜索树迭代器" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="题目-8"></a>题目<a class="hash-link" href="#题目-8" title="Direct link to heading">#</a></h3><p>请实现二叉搜索树的迭代器BSTIterator，它主要有如下三个函数：</p><ul><li>构造函数输入一个二叉搜索树的根结点初始化该迭代器；</li><li>函数next返回二叉搜索树中下一个最小的结点的值；</li><li>函数hasNext返回二叉搜索树是否还有下一个结点。</li></ul><p>例如输入图8.11中的二叉树搜索树初始化BSTIterator，第一次调用函数next将返回最小的结点值1，此时调用函数hasNext返回true。再次调用函数next将返回下一个最小的结点的值2，此时再调用函数hasNext将返回true。第三次调用函数next将返回下一个最小的结点的值3，如果此时再调用函数hasNext将返回false。</p><p><img alt="图8.11" src="data:image/png;base64,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"></p><p>图8.11：一个有3个结点的二叉搜索树。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="参考代码-8"></a>参考代码<a class="hash-link" href="#参考代码-8" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">public class BSTIterator {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    TreeNode cur;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Stack&lt;TreeNode&gt; stack;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public BSTIterator(TreeNode root) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        cur = root;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        stack = new Stack&lt;&gt;();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public boolean hasNext() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return cur != null || !stack.isEmpty();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int next() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        while (cur != null) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            stack.push(cur);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            cur = cur.left;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span></span><span class="token-line" style="color:#393A34"><span class="token plain">        cur = stack.pop();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        int val = cur.val;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        cur = cur.right;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return val;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="面试题56：二叉搜索树中两个结点之和"></a>面试题56：二叉搜索树中两个结点之和<a class="hash-link" href="#面试题56：二叉搜索树中两个结点之和" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="题目-9"></a>题目<a class="hash-link" href="#题目-9" title="Direct link to heading">#</a></h3><p>给你一个二叉搜索树和一个值k，请判断该二叉搜索树中是否存在两个结点它们的值之和等于k。假设二叉搜索树中结点的值均唯一。例如在图8.12中的二叉搜索树里，存在两个两个结点它们的和等于12（结点5和结点7），但不存在两个结点值之和为22的结点。 </p><p><img alt="图8.12" src="data:image/png;base64,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"></p><p>图8.12：在二叉搜索树中，存在两个结点它们的和等于12（结点5和结点7），但不存在两个结点值之和为22的结点。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="参考代码-9"></a>参考代码<a class="hash-link" href="#参考代码-9" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">public class BSTIterator {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    TreeNode cur;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Stack&lt;TreeNode&gt; stack;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public BSTIterator(TreeNode root) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        cur = root;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        stack = new Stack&lt;&gt;();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public boolean hasNext() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return cur != null || !stack.isEmpty();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int next() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        while (cur != null) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            stack.push(cur);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            cur = cur.left;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span></span><span class="token-line" style="color:#393A34"><span class="token plain">        cur = stack.pop();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        int val = cur.val;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        cur = cur.right;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return val;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">public class BSTIteratorReversed {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    TreeNode cur;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Stack&lt;TreeNode&gt; stack;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public BSTIteratorReversed(TreeNode root) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        cur = root;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        stack = new Stack&lt;&gt;();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public boolean hasPrev() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return cur != null || !stack.isEmpty();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public int prev() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        while (cur != null) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            stack.push(cur);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            cur = cur.right;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span></span><span class="token-line" style="color:#393A34"><span class="token plain">        cur = stack.pop();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        int val = cur.val;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        cur = cur.left;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return val;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">public boolean findTarget(TreeNode root, int k) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (root == null) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return false;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    BSTIterator iterNext = new BSTIterator(root);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    BSTIteratorReversed iterPrev = new BSTIteratorReversed(root);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    int next = iterNext.next();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    int prev = iterPrev.prev();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    while (next != prev) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (next + prev == k) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (next + prev &lt; k) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            next = iterNext.next();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            prev = iterPrev.prev();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return false;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="面试题57：值和下标之差都在给定的范围内"></a>面试题57：值和下标之差都在给定的范围内<a class="hash-link" href="#面试题57：值和下标之差都在给定的范围内" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="题目-10"></a>题目<a class="hash-link" href="#题目-10" title="Direct link to heading">#</a></h3><p>给你一个整数数组nums，请判断是否存在两个不同的下标i和j（i和j之差的绝对值不大于给定的k）使得两个数值nums[i]和nums[j]的差的绝对值不大于给定的t。例如，如果输入数组{1, 2, 3, 1}，k为3，t为0，由于下标0和下标3，它们对应的数字之差的绝对值为0，因此返回true。如果输入数组{1, 5, 9, 1, 5, 9}，k为2，t为3，由于不存在两个下标之差小于等于2的数字它们差的绝对值小于等于3，此时应该返回false。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="参考代码-10"></a>参考代码<a class="hash-link" href="#参考代码-10" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="解法一-1"></a>解法一<a class="hash-link" href="#解法一-1" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">public boolean containsNearbyAlmostDuplicate(int[] nums,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    int k, int t) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    TreeSet&lt;Long&gt; set = new TreeSet&lt;&gt;();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    for (int i = 0; i &lt; nums.length; ++i) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Long lower = set.floor((long)nums[i]);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (lower != null &amp;&amp; lower &gt;= (long)nums[i] - t) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Long upper = set.ceiling((long)nums[i]);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (upper != null &amp;&amp; upper &lt;= (long)nums[i] + t) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        set.add((long)nums[i]);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (i &gt;= k) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            set.remove((long)nums[i - k]);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return false;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="解法二-1"></a>解法二<a class="hash-link" href="#解法二-1" title="Direct link to heading">#</a></h4><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">public boolean containsNearbyAlmostDuplicate(int[] nums,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    int k, int t) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    Map&lt;Integer, Integer&gt; buckets = new HashMap&lt;&gt;();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    int bucketSize = t + 1;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    for (int i = 0; i &lt; nums.length; i++) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        int num = nums[i];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        int id = getBucketID(num, bucketSize);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (buckets.containsKey(id)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            || (buckets.containsKey(id-1) &amp;&amp; buckets.get(id-1) + t &gt;= num)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            || (buckets.containsKey(id+1) &amp;&amp; buckets.get(id+1) - t &lt;= num)) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        buckets.put(id, num);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (i &gt;= k) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            buckets.remove(getBucketID(nums[i - k], bucketSize));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return false;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">private int getBucketID(int num, int bucketSize) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return num &gt;= 0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        ? num / bucketSize</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        : (num + 1) / bucketSize - 1; </span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="面试题58：日程表"></a>面试题58：日程表<a class="hash-link" href="#面试题58：日程表" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="题目-11"></a>题目<a class="hash-link" href="#题目-11" title="Direct link to heading">#</a></h3><p>请实现一个类型MyCalendar用来记录你的日程安排，该类型有一个方法book(int start, int end)往日程安排表里添加一个时间区域为[start, end)的事项（这是个半开半闭区间，即start&lt;=x&lt;end）。如果[start, end)内没有事先安排其他事项，则成功添加该事项并返回true。否则不能添加该事项，并返回false。</p><p>例如，在下面的三次调用book方法中，第二次调用返回false，这是因为时间[15, 20)已经被第一次调用预留了。由于第一次占用的时间是个半开半闭区间，并没有真正占用时间20，因此不影响第三次调用预留时间区间[20, 30)。 </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">MyCalendar cal = new MyCalendar()；</span></span><span class="token-line" style="color:#393A34"><span class="token plain">cal.book(10, 20); // returns true</span></span><span class="token-line" style="color:#393A34"><span class="token plain">cal.book(15, 25); // returns false</span></span><span class="token-line" style="color:#393A34"><span class="token plain">cal.book(20, 30); // returns true</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="参考代码-11"></a>参考代码<a class="hash-link" href="#参考代码-11" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">class MyCalendar {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    private TreeMap&lt;Integer, Integer&gt; events;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public MyCalendar() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        events = new TreeMap&lt;&gt;();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span></span><span class="token-line" style="color:#393A34"><span class="token plain">    public boolean book(int start, int end) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Map.Entry&lt;Integer, Integer&gt; event = events.floorEntry(start);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (event != null &amp;&amp; event.getValue() &gt; start) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return false;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span></span><span class="token-line" style="color:#393A34"><span class="token plain">        event = events.ceilingEntry(start);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (event != null &amp;&amp; event.getKey() &lt; end) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">            return false;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span></span><span class="token-line" style="color:#393A34"><span class="token plain">        events.put(start, end);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return true;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/richardgong1987-learn/richardgong1987-learn/edit/master/website/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter08.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter07"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« 第七章：队列</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/OfferOrientedAlgorithms-main/Chapter09"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">第九章：堆 »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#面试题47：二叉树剪枝" class="table-of-contents__link">面试题47：二叉树剪枝</a><ul><li><a href="#题目" class="table-of-contents__link">题目</a></li><li><a href="#参考代码" class="table-of-contents__link">参考代码</a></li></ul></li><li><a href="#面试题48：序列化和反序列化二叉树" class="table-of-contents__link">面试题48：序列化和反序列化二叉树</a><ul><li><a href="#题目-1" class="table-of-contents__link">题目</a></li><li><a href="#参考代码-1" class="table-of-contents__link">参考代码</a></li></ul></li><li><a href="#面试题49：从根结点到叶结点的路径数字之和" class="table-of-contents__link">面试题49：从根结点到叶结点的路径数字之和</a><ul><li><a href="#题目-2" class="table-of-contents__link">题目</a></li><li><a href="#参考代码-2" class="table-of-contents__link">参考代码</a></li></ul></li><li><a href="#面试题50：向下的路径结点之和" class="table-of-contents__link">面试题50：向下的路径结点之和</a><ul><li><a href="#题目-3" class="table-of-contents__link">题目</a></li><li><a href="#参考代码-3" class="table-of-contents__link">参考代码</a></li></ul></li><li><a href="#面试题51：结点之和最大的路径" class="table-of-contents__link">面试题51：结点之和最大的路径</a><ul><li><a href="#题目-4" class="table-of-contents__link">题目</a></li><li><a href="#参考代码-4" class="table-of-contents__link">参考代码</a></li></ul></li><li><a href="#面试题52：展平二叉搜索树" class="table-of-contents__link">面试题52：展平二叉搜索树</a><ul><li><a href="#题目-5" class="table-of-contents__link">题目</a></li><li><a href="#参考代码-5" class="table-of-contents__link">参考代码</a></li></ul></li><li><a href="#面试题53：二叉搜索树的下一个结点" class="table-of-contents__link">面试题53：二叉搜索树的下一个结点</a><ul><li><a href="#题目-6" class="table-of-contents__link">题目</a></li><li><a href="#参考代码-6" class="table-of-contents__link">参考代码</a></li></ul></li><li><a href="#面试题54：所有大于等于结点的值之和" class="table-of-contents__link">面试题54：所有大于等于结点的值之和</a><ul><li><a href="#题目-7" class="table-of-contents__link">题目</a></li><li><a href="#参考代码-7" class="table-of-contents__link">参考代码</a></li></ul></li><li><a href="#面试题55：二叉搜索树迭代器" class="table-of-contents__link">面试题55：二叉搜索树迭代器</a><ul><li><a href="#题目-8" class="table-of-contents__link">题目</a></li><li><a href="#参考代码-8" class="table-of-contents__link">参考代码</a></li></ul></li><li><a href="#面试题56：二叉搜索树中两个结点之和" class="table-of-contents__link">面试题56：二叉搜索树中两个结点之和</a><ul><li><a href="#题目-9" class="table-of-contents__link">题目</a></li><li><a href="#参考代码-9" class="table-of-contents__link">参考代码</a></li></ul></li><li><a href="#面试题57：值和下标之差都在给定的范围内" class="table-of-contents__link">面试题57：值和下标之差都在给定的范围内</a><ul><li><a href="#题目-10" class="table-of-contents__link">题目</a></li><li><a href="#参考代码-10" class="table-of-contents__link">参考代码</a></li></ul></li><li><a href="#面试题58：日程表" class="table-of-contents__link">面试题58：日程表</a><ul><li><a href="#题目-11" class="table-of-contents__link">题目</a></li><li><a href="#参考代码-11" class="table-of-contents__link">参考代码</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/richardgong1987-learn/assets/js/runtime~main.fd9d2b8e.js"></script>
<script src="/richardgong1987-learn/assets/js/main.279dec3d.js"></script>
</body>
</html>