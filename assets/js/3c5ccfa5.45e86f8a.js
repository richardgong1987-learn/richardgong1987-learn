(self.webpackChunkrichardgong_1987_learn=self.webpackChunkrichardgong_1987_learn||[]).push([[8662],{3905:function(n,e,r){"use strict";r.d(e,{Zo:function(){return l},kt:function(){return p}});var t=r(67294);function i(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function o(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function a(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){i(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}function u(n,e){if(null==n)return{};var r,t,i=function(n,e){if(null==n)return{};var r,t,i={},o=Object.keys(n);for(t=0;t<o.length;t++)r=o[t],e.indexOf(r)>=0||(i[r]=n[r]);return i}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(t=0;t<o.length;t++)r=o[t],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(i[r]=n[r])}return i}var d=t.createContext({}),c=function(n){var e=t.useContext(d),r=e;return n&&(r="function"==typeof n?n(e):a(a({},e),n)),r},l=function(n){var e=c(n.components);return t.createElement(d.Provider,{value:e},n.children)},m={inlineCode:"code",wrapper:function(n){var e=n.children;return t.createElement(t.Fragment,{},e)}},s=t.forwardRef((function(n,e){var r=n.components,i=n.mdxType,o=n.originalType,d=n.parentName,l=u(n,["components","mdxType","originalType","parentName"]),s=c(r),p=i,f=s["".concat(d,".").concat(p)]||s[p]||m[p]||o;return r?t.createElement(f,a(a({ref:e},l),{},{components:r})):t.createElement(f,a({ref:e},l))}));function p(n,e){var r=arguments,i=e&&e.mdxType;if("string"==typeof n||i){var o=r.length,a=new Array(o);a[0]=s;var u={};for(var d in e)hasOwnProperty.call(e,d)&&(u[d]=e[d]);u.originalType=n,u.mdxType="string"==typeof n?n:i,a[1]=u;for(var c=2;c<o;c++)a[c]=r[c];return t.createElement.apply(null,a)}return t.createElement.apply(null,r)}s.displayName="MDXCreateElement"},54801:function(n,e,r){"use strict";r.r(e),r.d(e,{frontMatter:function(){return u},contentTitle:function(){return d},metadata:function(){return c},toc:function(){return l},default:function(){return s}});var t=r(22122),i=r(19756),o=(r(67294),r(3905)),a=["components"],u={},d="5.12 Union-Find\u7b97\u6cd5\u5e94\u7528",c={unversionedId:"c-computer/AlgorithmsDataStructures/labuladong\u7b97\u6cd5\u5c0f\u6284\u4ee3\u7801/\u7b97\u6cd5\u601d\u7ef4\u7cfb\u5217/UnionFind\u7b97\u6cd5\u5e94\u7528",id:"c-computer/AlgorithmsDataStructures/labuladong\u7b97\u6cd5\u5c0f\u6284\u4ee3\u7801/\u7b97\u6cd5\u601d\u7ef4\u7cfb\u5217/UnionFind\u7b97\u6cd5\u5e94\u7528",isDocsHomePage:!1,title:"5.12 Union-Find\u7b97\u6cd5\u5e94\u7528",description:"\u672c\u6587\u5bf9\u5e94\u7684\u529b\u6263\u9898\u76ee\uff1a",source:"@site/docs/c-computer/AlgorithmsDataStructures/labuladong\u7b97\u6cd5\u5c0f\u6284\u4ee3\u7801/\u7b97\u6cd5\u601d\u7ef4\u7cfb\u5217/UnionFind\u7b97\u6cd5\u5e94\u7528.md",sourceDirName:"c-computer/AlgorithmsDataStructures/labuladong\u7b97\u6cd5\u5c0f\u6284\u4ee3\u7801/\u7b97\u6cd5\u601d\u7ef4\u7cfb\u5217",slug:"/c-computer/AlgorithmsDataStructures/labuladong\u7b97\u6cd5\u5c0f\u6284\u4ee3\u7801/\u7b97\u6cd5\u601d\u7ef4\u7cfb\u5217/UnionFind\u7b97\u6cd5\u5e94\u7528",permalink:"/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/labuladong\u7b97\u6cd5\u5c0f\u6284\u4ee3\u7801/\u7b97\u6cd5\u601d\u7ef4\u7cfb\u5217/UnionFind\u7b97\u6cd5\u5e94\u7528",editUrl:"https://github.com/richardgong1987-learn/richardgong1987-learn/edit/master/website/docs/c-computer/AlgorithmsDataStructures/labuladong\u7b97\u6cd5\u5c0f\u6284\u4ee3\u7801/\u7b97\u6cd5\u601d\u7ef4\u7cfb\u5217/UnionFind\u7b97\u6cd5\u5e94\u7528.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"4.4 BFS \u7b97\u6cd5\u66b4\u529b\u7834\u89e3\u5404\u79cd\u667a\u529b\u9898",permalink:"/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/labuladong\u7b97\u6cd5\u5c0f\u6284\u4ee3\u7801/\u7b97\u6cd5\u601d\u7ef4\u7cfb\u5217/BFS\u89e3\u51b3\u6ed1\u52a8\u62fc\u56fe"},next:{title:"5.11 Union-Find\u7b97\u6cd5\u8be6\u89e3",permalink:"/richardgong1987-learn/docs/c-computer/AlgorithmsDataStructures/labuladong\u7b97\u6cd5\u5c0f\u6284\u4ee3\u7801/\u7b97\u6cd5\u601d\u7ef4\u7cfb\u5217/UnionFind\u7b97\u6cd5\u8be6\u89e3"}},l=[{value:"5.12.1 \u88ab\u56f4\u7ed5\u7684\u533a\u57df",id:"5121-\u88ab\u56f4\u7ed5\u7684\u533a\u57df",children:[]},{value:"5.12.2 \u5224\u5b9a\u5408\u6cd5\u7b49\u5f0f",id:"5122-\u5224\u5b9a\u5408\u6cd5\u7b49\u5f0f",children:[]}],m={toc:l};function s(n){var e=n.components,r=(0,i.Z)(n,a);return(0,o.kt)("wrapper",(0,t.Z)({},m,r,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"512-union-find\u7b97\u6cd5\u5e94\u7528"},"5.12 Union-Find\u7b97\u6cd5\u5e94\u7528"),(0,o.kt)("p",null,"\u672c\u6587\u5bf9\u5e94\u7684\u529b\u6263\u9898\u76ee\uff1a"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://leetcode-cn.com/problems/surrounded-regions"},"130.\u88ab\u56f4\u7ed5\u7684\u533a\u57df")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://leetcode-cn.com/problems/surrounded-regions"},"990.\u7b49\u5f0f\u65b9\u7a0b\u7684\u53ef\u6ee1\u8db3\u6027")),(0,o.kt)("h3",{id:"5121-\u88ab\u56f4\u7ed5\u7684\u533a\u57df"},"5.12.1 \u88ab\u56f4\u7ed5\u7684\u533a\u57df"),(0,o.kt)("p",null,"\u51fd\u6570\u7b7e\u540d\u5982\u4e0b\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"void solve(char[][] board);\n")),(0,o.kt)("p",null,"\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u4f20\u7edf\u65b9\u6cd5\u5c31\u662f DFS \u7b97\u6cd5\uff0c\u5148\u5b9e\u73b0\u4e00\u4e2a\u53ef\u590d\u7528\u7684 ",(0,o.kt)("inlineCode",{parentName:"p"},"dfs")," \u51fd\u6570\uff0c\u53ef\u4ee5\u5c06 ",(0,o.kt)("inlineCode",{parentName:"p"},"O")," \u53d8\u6210 ",(0,o.kt)("inlineCode",{parentName:"p"},"#"),"\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"/* \u4ece board[i][j] \u5f00\u59cb DFS\uff0c\u5c06\u5b57\u7b26 O \u66ff\u6362\u6210\u5b57\u7b26 # */\nvoid dfs(char[][] board, int i, int j) {\n        int m = board.length, n = board[0].length;\n        // \u8d8a\u754c\u5219\u76f4\u63a5\u8fd4\u56de\n        if (i < 0 || i >= m || j < 0 || j >= n) {\n            return;\n        }\n        if (board[i][j] != 'O') {\n            return;\n        }\n        // \u8fdb\u884c\u66ff\u6362\n        board[i][j] = '#';\n        // \u5411\u56db\u5468 DFS \u641c\u7d22\n        dfs(board, i + 1, j);\n        dfs(board, i, j + 1);\n        dfs(board, i - 1, j);\n        dfs(board, i, j - 1);\n}\n\nvoid solve(char[][] board) {\n    if (board.length == 0) return;\n    int m = board.length, n = board[0].length;\n    // \u628a\u7b2c\u4e00\u884c\u548c\u6700\u540e\u4e00\u884c\u5173\u8054\u7684 O \u53d8\u6210 #\n    for (int i = 0; i < m; i++) {\n        dfs(board, i, 0);\n        dfs(board, i, n - 1);\n    }\n    // \u628a\u7b2c\u4e00\u5217\u548c\u6700\u540e\u4e00\u5217\u5173\u8054\u7684 O \u53d8\u6210 #\n    for (int j = 0; j < n; j++) {\n        dfs(board, 0, j);\n        dfs(board, m - 1, j);\n    }\n    // \u5269\u4e0b\u7684 O \u90fd\u662f\u5e94\u8be5\u88ab\u66ff\u6362\u6389\u7684\n    for (int i = 1; i < m - 1; i++) {\n        for (int j = 1; j < n - 1; j++) {\n            if (board[i][j] == 'O') {\n                board[i][j] = 'X';\n            }\n        }\n    }\n    // \u628a\u6240\u6709\u5b57\u7b26 # \u6062\u590d\u6210 O\n    for (int i = 0; i < m; i++) {\n        for (int j = 0; j < n; j++) {\n            if (board[i][j] == '#') {\n                board[i][j] = 'O';\n            }\n        }\n    }\n}\n")),(0,o.kt)("p",null,"Union-Find \u65b9\u6cd5\u89e3\u51b3\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"void solve(char[][] board) {\n    if (board.length == 0) return;\n\n    int m = board.length;\n    int n = board[0].length;\n    // \u7ed9 dummy \u7559\u4e00\u4e2a\u989d\u5916\u4f4d\u7f6e\n    UF uf = new UnionFind(m * n + 1);\n    int dummy = m * n;\n    // \u5c06\u9996\u5217\u548c\u672b\u5217\u7684 O \u4e0e dummy \u8fde\u901a\n    for (int i = 0; i < m; i++) {\n        if (board[i][0] == 'O')\n            uf.union(i * n, dummy);\n        if (board[i][n - 1] == 'O')\n            uf.union(i * n + n - 1, dummy);\n    }\n    // \u5c06\u9996\u884c\u548c\u672b\u884c\u7684 O \u4e0e dummy \u8fde\u901a\n    for (int j = 0; j < n; j++) {\n        if (board[0][j] == 'O')\n            uf.union(j, dummy);\n        if (board[m - 1][j] == 'O')\n            uf.union(n * (m - 1) + j, dummy);\n    }\n    // \u65b9\u5411\u6570\u7ec4 d \u662f\u641c\u7d22\u4e0a\u4e0b\u5de6\u53f3\u56db\u4e2a\u65b9\u5411\u7684\u5e38\u7528\u624b\u6cd5\n    int[][] d = new int[][]{{1,0}, {0,1}, {0,-1}, {-1,0}};\n    for (int i = 1; i < m - 1; i++) {\n        for (int j = 1; j < n - 1; j++) {\n            if (board[i][j] == 'O') {\n                // \u5c06\u6b64 O \u4e0e\u4e0a\u4e0b\u5de6\u53f3\u7684 O \u8fde\u901a\n                for (int k = 0; k < 4; k++) {\n                    int x = i + d[k][0];\n                    int y = j + d[k][1];\n                    if (board[x][y] == 'O')\n                        uf.union(x * n + y, i * n + j);\n                }\n            }\n        }\n    }\n    // \u73b0\u5728\uff0c\u6ca1\u6709\u88ab X \u5305\u56f4\u7684 O \u90fd\u548c dummy \u8fde\u901a\u4e86\n    // \u6240\u6709\u4e0d\u548c dummy \u8fde\u901a\u7684 O\uff0c\u90fd\u8981\u88ab\u66ff\u6362\n    for (int i = 1; i < m - 1; i++) \n        for (int j = 1; j < n - 1; j++) \n            if (!uf.connected(dummy, i * n + j))\n                board[i][j] = 'X';\n}\n")),(0,o.kt)("h3",{id:"5122-\u5224\u5b9a\u5408\u6cd5\u7b49\u5f0f"},"5.12.2 \u5224\u5b9a\u5408\u6cd5\u7b49\u5f0f"),(0,o.kt)("p",null,"\u6838\u5fc3\u601d\u60f3\u662f\uff0c",(0,o.kt)("strong",{parentName:"p"},"\u5c06 ",(0,o.kt)("inlineCode",{parentName:"strong"},"equations")," \u4e2d\u7684\u7b97\u5f0f\u6839\u636e ",(0,o.kt)("inlineCode",{parentName:"strong"},"==")," \u548c ",(0,o.kt)("inlineCode",{parentName:"strong"},"!=")," \u5206\u6210\u4e24\u90e8\u5206\uff0c\u5148\u5904\u7406 ",(0,o.kt)("inlineCode",{parentName:"strong"},"==")," \u7b97\u5f0f\uff0c\u4f7f\u5f97\u4ed6\u4eec\u901a\u8fc7\u76f8\u7b49\u5173\u7cfb\u76f8\u4e92\u300c\u8fde\u901a\u300d\uff1b\u7136\u540e\u5904\u7406 ",(0,o.kt)("inlineCode",{parentName:"strong"},"!=")," \u7b97\u5f0f\uff0c\u68c0\u67e5\u4e0d\u7b49\u5173\u7cfb\u662f\u5426\u7834\u574f\u4e86\u76f8\u7b49\u5173\u7cfb\u7684\u8fde\u901a\u6027"),"\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"boolean equationsPossible(String[] equations) {\n    // 26 \u4e2a\u82f1\u6587\u5b57\u6bcd\n    UF uf = new UnionFind(26);\n    // \u5148\u8ba9\u76f8\u7b49\u7684\u5b57\u6bcd\u5f62\u6210\u8fde\u901a\u5206\u91cf\n    for (String eq : equations) {\n        if (eq.charAt(1) == '=') {\n            char x = eq.charAt(0);\n            char y = eq.charAt(3);\n            uf.union(x - 'a', y - 'a');\n        }\n    }\n    // \u68c0\u67e5\u4e0d\u7b49\u5173\u7cfb\u662f\u5426\u6253\u7834\u76f8\u7b49\u5173\u7cfb\u7684\u8fde\u901a\u6027\n    for (String eq : equations) {\n        if (eq.charAt(1) == '!') {\n            char x = eq.charAt(0);\n            char y = eq.charAt(3);\n            // \u5982\u679c\u76f8\u7b49\u5173\u7cfb\u6210\u7acb\uff0c\u5c31\u662f\u903b\u8f91\u51b2\u7a81\n            if (uf.connected(x - 'a', y - 'a'))\n                return false;\n        }\n    }\n    return true;\n}\n")))}s.isMDXComponent=!0}}]);